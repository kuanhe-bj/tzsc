<!DOCTYPE html>
<html>
<head>
    <title>车辆大数据分析系统</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/main/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="data/document.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/ie.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="files/main/data.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="../vas/libs/vue.min.js"></script>
    
   <script type="text/javascript" src="libs/ichart.1.2.min.js"></script> 
    
    <script type="text/javascript">
        $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
        $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
        $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="plugins/jqgrid/ui.jqgrid-bootstrap.css">
        <!-- 引入 ECharts 文件 -->
        <script src="libs/echarts.min.js"></script>   
        <script src="libs/bootstrap.min.js"></script>
        <script src="js/china2.js"></script>
        <script src="plugins/jqgrid/grid.locale-cn.js"></script>
        <script src="plugins/jqgrid/jquery.jqGrid.min.js"></script>
        <script src="js/common.js"></script>
        
        <style type ="text/css">

@media (min-width: 1440px)
{
    .container {
        width: 1400px;
    }
}

.blueborder {
    border:1px #264a7e solid;
}

.blueUnder{
    border-bottom: 1px #264a7e solid;
}

.myTitle{
    font-size: 28px;
    font-weight: 900;
}

.topRow{
    margin-bottom: 15px;
    margin-top: 20px;
    padding-bottom: 5px;
}

.col-lg-6 {
    padding-left: 5px;
    padding-right: 5px;
}

.whiteBack{
    background-color: #0f3054;
    padding-top: 10px;
    color:#333;
}

.divPadding{
    padding: 3px;
}

.row{
	border-top:0;
}
</style>
  
</head>
<body>
<div id="base" class="">

</div>
        <div class="container" style="margin-left:0;">
            <div class="row">

            </div>
            <div class ="row topRow blueUnder" id="rrapp">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-md-1 col-sm-6">
                        <img src="resources/images/sheceh_06.png" width="40">
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <a href="#" onclick="window.open(baseURL+'modules/manager/sc_zfyc.html','_self');"><p>昼伏夜出<br>{{zfyc}}</p></a>
                    </div>
                    <div class="col-md-1">
                        <img src="resources/images/sheceh_08.png" width="40">
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <a href="#" onclick="window.open(baseURL+'modules/generator/sc_tpfx.html','_self');"><p>套牌嫌疑<br>{{tpxy}}</p></a>
                    </div>
                    <div class="col-md-1">
                        <img src="resources/images/sheceh_10.png" width="40">
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <a href="#" onclick="window.open(baseURL+'modules/generator/sc_yncl.html','_self');"><p>隐匿车辆<br>{{ymcl}}</p></a>
                    </div>
                    <div class="col-md-1">
                        <img src="resources/images/sheceh_12.png" width="40">
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <a href="#" onclick="window.open(baseURL+'modules/generator/sc_scrc.html','_self');"><p>首次进城<br>{{scjc}}</p></a>
                    </div>
                </div>
                <br>
               <!--  <span style="margin:20px;">当前微卡口数据量是:{{num}}</span> -->
            </div>
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12 " >
                    <div class="col-md-12 blueborder" style="border-radius: 25px 0px 50px;">
                        <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                        <div id="carFromDiv" style="height: 560px" ></div>
<!-- <div id='canvasDiv' width='1330px' height='550px' style='border:1px solid #c3c3c3;'></div>  -->
<!-- <div id='canvasDiv1' width='1330' height='800' style='border:1px solid #c3c3c3;'></div>  -->
                    </div>                
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12 " >
                    <div class="col-md-12 blueborder" style="margin-bottom: 5px;">    
                        <div class="col-md-6" >
                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                            <div id="nightOutDiv" style="height: 270px" ></div>
                        </div>
                        <div class="col-md-6" >
                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                            <div id="limitOutDiv" style="height: 270px" ></div>
                        </div>                       
                    </div>
                    <div class="col-md-6 blueborder" >
                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                            <div id="highRiskDiv" style="height: 270px" ></div>
                        </div> 
                        <div class="col-md-6 blueborder" >
                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                            <div class="col-md-6">
                                <div id="violationDiv" style="height: 135px" ></div>
                            </div>
                            <div class="col-md-6">
                                <div id="accidentDiv" style="height: 135px" ></div>
                            </div>   
                            <div class="col-md-6">
                                <div id="trafficDiv" style="height: 135px" ></div>
                            </div>
                            <div class="col-md-6">
                                <div id="carFlowDiv" style="height: 135px" ></div>
                            </div>                              
                        </div> 
                </div>
            </div>
            <div class="row" style="margin-top: 10px;" id="rrapp2">
                <div class="col-lg-6 col-md-6 col-sm-12 " >
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/sheceh_19.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>停车场数量<br>1115</p>
                        </div>
                        </div>
                    </div>
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/sheceh_22.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>停车数量<br>{{tcsl}}</p>
                        </div>  
                        </div>
                    </div>
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/sheceh_25.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>今日入场<br>{{jrrc}}</p>
                        </div>  
                        </div>
                    </div>
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/sheceh_28.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>今日出场<br>{{jrcc}}</p>
                        </div>       
                        </div>
                    </div>                    
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12 " >
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/alertall.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>布控总量<br>{{bkzl}}</p>
                        </div>
                        </div>
                    </div> 
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/alert.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>今日布控<br>{{jrbk}}</p>
                        </div>  
                        </div>
                    </div>
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/alarmall.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>累计报警<br>{{ljbj}}</p>
                        </div>  
                        </div>
                    </div>
                    <div class="col-md-3 divPadding">
                        <div class="col-sm-12 blueborder" style="padding-top: 10px;">
                        <div class="col-sm-3">
                        <img src="resources/images/alarm.png" height="30">
                        </div>
                        <div class="col-sm-9" style="text-align: right;">
                            <p>今日报警<br>{{jrbj}}</p>
                        </div>       
                        </div>
                    </div>                     
                </div>                
            </div>         
            <div class="row" style="margin-top: 20px;margin-bottom: 20px;width:100%;height: 570px">
                <p>热力图</p>
                <div id="map" class="col-lg-12 col-md-12 col-sm-12 blueborder">
                <!-- <img src="resources/images/relitu.png" style="width:100%;"> -->
                </div>
            </div>
            <div class="row" style="margin-top: 20px;margin-bottom: 20px;">
                <div class="col-lg-12 col-md-12 col-sm-12 blueUnder"></div>
            </div>              
        </div>
        <!-- <script src="tzsc/public_html/js/main.js"></script> -->
        <script src="js/carfrom2.js"></script>
        <script src="js/nightout.js"></script>
        <script src="js/limitout.js"></script>
        <script src="js/highrisk.js"></script>
        <script src="js/traffic.js"></script>
   <script type="text/javascript">
   	function a(obj){return document.getElementById(obj);} 
	function show(objid) {a(objid).style.display='inline';} 
	function hidden(objid) {a(objid).style.display='none';} 
	
    $(function() {
    	vm.query();
    	vm.number();
    	vm2.query();
    	load_home();
    	setInterval("load_home()",1000*60*3);
    })
    
    function alarm() {
		var url = 'generator/sc_alarminfo/list';
		$.ajax({
			type : "POST",
			url : baseURL + url,
			contentType : "application/json",
			success : function(r) {
				for(var i = 0; i < r.list.length; i++) {
					var readstate = r.list[i].readstate;
					if(readstate == 1) {
						hidden('msg');
					} else {
						show('msg');
					}
				}
			}
		});
    }
    
    var vm = new Vue({
    		el : '#rrapp',
    		data : {
    			num : '',
    			zfyc : '',
    			tpxy : '',
    			ymcl : '',
    			scjc : ''
    		},
    		methods : {
    			query : function() {				
    				$.ajax({
    					type : "POST",
    					url : baseURL + "main/query",
    					contentType : "application/json",
    					data : {},
    					success : function(r) {
    						vm.zfyc = r.page.zfyc;
    						vm.tpxy = r.page.tpxy;
    						vm.ymcl = r.page.ymcl;
    						vm.scjc = r.page.scjc;
    					}
    				});
    			},
    			number : function() {
    				$.ajax({
    					type : "POST",
    					url : baseURL + 'generator/sc_etcptjd/num',
    					contentType : "application/json",
    					success : function(r) {
    						vm.num = r.num;
    					}
    				});
    			}
    		}
    	});
    var vm2 = new Vue({
		el : '#rrapp2',
		data : {	
			tcsl:'',
			jrrc:'',
			jrcc:'',
			bkzl:'',
			jrbk:'',
			ljbj:'',
			jrbj:''
		},
		methods : {
			query : function() {				
				$.ajax({
					type : "POST",
					url : baseURL + "main/query",
					contentType : "application/json",
					data : {},
					success : function(r) {
						
						vm2.tcsl = r.page.tcsl;
						vm2.jrrc = r.page.jrrc;
						vm2.jrcc = r.page.jrcc;
						vm2.bkzl = r.page.bkzl;
						vm2.jrbk = r.page.jrbk;
						vm2.ljbj = r.page.ljbj;
						vm2.jrbj = r.page.jrbj;
					}
				});

			}
		}
	});
    
    var vm3 = new Vue({
    	el : '#msg',
		data : {	
			count : ''
		},
		methods : {
			alarm : function() {				
				var url = 'generator/sc_alarminfo/list';
				$.ajax({
					type : "POST",
					url : baseURL + url,
					contentType : "application/json",
					success : function(r) {
						console.log(r.num);
						vm.count = r.num;
						if(r.num != 0) {
							show('msg');
						} else {
							hidden('msg');
						}
					}
				});

			}
		}
    });
    var i = 1;
    function load_home() {
    	if(i<=14){
    		if(i==1){
	        document.getElementById("map").innerHTML = 
	        	'<object type="text/html" data="tzsc/public_html/resources/views/screlitu'+i+'.html" width="100%" height="400px"></object>';
    		}else{
    			if(i%2==0){
    				var j = i/2;
    				document.getElementById("map").innerHTML = 
    		        	'<object type="text/html" data="tzsc/public_html/resources/views/screlitu'+j+'.html" width="100%" height="400px"></object>';
    			}else{
       				var j = (i+1)/2;
       				document.getElementById("map").innerHTML = 
       		        	'<object type="text/html" data="tzsc/public_html/resources/views/screlitu'+j+'.html" width="100%" height="400px"></object>';
    			}
    		}
    	}else{
    		i=1;
    		document.getElementById("map").innerHTML = 
            	'<object type="text/html" data="tzsc/public_html/resources/views/screlitu'+i+'.html" width="100%" height="400px"></object>';
    	}
    	i++;	
    }
  
    </script>
</body>
</html>