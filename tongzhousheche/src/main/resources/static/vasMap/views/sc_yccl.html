<!DOCTYPE html>
<html>
<head>
<title>ETCP热力图</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">
<link rel="stylesheet" href="../../css/bootstrap.min.css">
<link rel="stylesheet" href="../../css/font-awesome.min.css">
<link rel="stylesheet"
	href="../../plugins/jqgrid/ui.jqgrid-bootstrap.css">
<link rel="stylesheet"
	href="../../plugins/ztree/css/metroStyle/metroStyle.css">
<link rel="stylesheet" href="../../css/main.css">
<link href="../../vasMap/theme/default/google.css">
<link href="../../vasMap/theme/default/style.css">

<script src="../../libs/jquery.min.js"></script>
<script src="../../plugins/layer/layer.js"></script>
<script src="../../libs/vue.min.js"></script>
<script src="../../libs/validator.min.js"></script>
<script src="../../plugins/jqgrid/grid.locale-cn.js"></script>
<script src="../../plugins/jqgrid/jquery.jqGrid.min.js"></script>
<script src="../../plugins/ztree/jquery.ztree.all.min.js"></script>
<script src="../../js/common.js"></script>
<script src="../data/pInfo.js" type="text/javascript"></script>
<script src="../superMap/SuperMap-8.1.1-14426.js" type="text/javascript"></script>
<script src="../superMap/SuperMap_Plot-8.1.1-14426.js"
	type="text/javascript"></script>
<script src="../js/sc_yccl.js" type="text/javascript"></script>

</head>
<body>
	<div id="rrapp" v-cloak>
		<div v-show="showList">
			<div class="grid-btn" style = "margin-bottom: 10px;"
				style="position: absolute; top: 0px; left: 0px; right: 0px; width: 100%; height: 50px;">
				<div class="form-group col-sm-2">
					<input type="text" class="form-control" id="cph"
						@keyup.enter="query" placeholder="请输入车牌号">
				</div>
				<div class="form-group col-sm-2">
				<input  type="text" class="form-control"  id="startTime" readonly="readonly" placeholder="起始时间">	
			</div>
			<div class="form-group col-sm-2">
				<input type="text" class="form-control" id="endTime" readonly="readonly" placeholder="结束时间">
			</div>
			<div class="form-group col-sm-2">
				<input type="text" class="form-control" id="num"
					   placeholder="次数 " />
			</div>
			<div>
				<a style = "margin-left: 10px; margin-bottom: 10px;" class="btn btn-primary"
					@click="display">预测</a> 
				<a class="btn btn-primary" style = "margin-bottom: 10px;"
					@click="clear">清除</a>
			</div>
			<div v-show="show">
				<span>{{carNum}},最近的一次的行车记录在:{{addr}},行车时间是:{{time}}</span><br/>
				<span>预测结果:{{result}}</span> 
			</div>
			</div>
			<div id="xmap" style="position: absolute; top: 150px; left: 0px; right: 0px; width: 100%; height: 80vh;"></div>
		</div>
	</div>
			<div id="xmap" style="position: absolute; top: 130px; left: 0px; right: 0px; width: 100%; height: 100%;"></div>
	 	<script src="../../vasMap/laydate-master/dist/laydate.js"></script>
<script language="javascript" type="text/javascript">
function getBeforeDate(n){  
    var n = n;  
    var d = new Date();  
    var year = d.getFullYear();  
    var mon=d.getMonth()+1;  
    var day=d.getDate();  
    if(day <= n){  
            if(mon>1) {  
               mon=mon-1;  
            }  
           else {  
             year = year-1;  
             mon = 12;  
             }  
           }  
          d.setDate(d.getDate()-n);  
          year = d.getFullYear();  
          mon=d.getMonth()+1;  
          day=d.getDate();
       var hour=d.getHours();
       var min=d.getMinutes();
       var sen=d.getSeconds();
     s = year+"-"+(mon<10?('0'+mon):mon)+"-"+(day<10?('0'+day):day)+" "+(hour<10?('0'+hour):hour)+":"+(min<10?('0'+min):min)+":"+(sen<10?('0'+sen):sen);  
     return s;  
  }  
var t1=getBeforeDate(7);
var t2=getBeforeDate(0);
		laydate.render({
			elem : '#startTime',
			value: t1,
			type: 'datetime'
		
		});
		laydate.render({
			elem : '#endTime',
			value: t2,
			type: 'datetime'
		});

</script>
</body>
</html>
